/**
 * Спільні константи для розрахунку мита
 */

/**
 * Базові ставки акцизу для легкових автомобілів (в EUR за 1 ТЗ)
 * Ставка базова залежить від типу двигуна:
 *
 * Бензин: до 3000см³ = €50, понад 3000см³ = €100
 * Дизель: до 3500см³ = €75, понад 3500см³ = €150
 * Електро: 1 EUR за 1 kWh ємності батареї
 * Гібрид: 100 EUR за 1 штуку (фіксовано)
 */
export const CAR_EXCISE_BASE_RATES = {
  "Бензин": {
    threshold: 3000,
    below: 50,
    above: 100,
  },
  "Дизель": {
    threshold: 3500,
    below: 75,
    above: 150,
  },
  "Електро": {
    perKwh: 1,
    duty: 0,
    vat: 0,
  },
  "Гібрид": {
    fixed: 100,
  },
};

export const AGE_FACTOR = {
  "1 рік": 1.0,
  "2 роки": 0.95,
  "3 роки": 0.90,
  "4 роки": 0.85,
  "5 років": 0.80,
  "6 років": 0.75,
  "7 років": 0.70,
  "8 років": 0.65,
  "9 років": 0.60,
  "10 років": 0.55,
  "11 років": 0.50,
  "12 років": 0.45,
  "13 років": 0.40,
  "14 років": 0.35,
  "Від 15 років": 0.25,
};

export const COUNTRY_FACTOR = {
  "Німеччина": 1.0,
  "Франція": 1.0,
  "Японія": 1.05,
  "Південна Корея": 1.05,
  "США": 1.1,
  "Інші": 1.15,
};

/**
 * Розрахунок коефіцієнта віку (К_вік)
 * К_вік = повна кількість років від року_випуску+1 до поточного року
 * Для нових авто (до 1 року) = 1
 * Максимум 15 років
 */
export function getAgeCoefficient(ageString) {
  const ageMap = {
    "1 рік": 1,
    "2 роки": 2,
    "3 роки": 3,
    "4 роки": 4,
    "5 років": 5,
    "6 років": 6,
    "7 років": 7,
    "8 років": 8,
    "9 років": 9,
    "10 років": 10,
    "11 років": 11,
    "12 років": 12,
    "13 років": 13,
    "14 років": 14,
    "Від 15 років": 15,
  };

  return ageMap[ageString] || 1;
}